---
title: Сравнение Entity Framework 6 и Entity Framework Core
description: Руководство по выбору между Entity Framework 6 и Entity Framework Core.
author: rowanmiller
ms.date: 10/27/2016
ms.assetid: a6b9cd22-6803-4c6c-a4d4-21147c0a81cb
uid: efcore-and-ef6/index
ms.openlocfilehash: d5fe9b388707f653fdeb2d6a5daa7215ced71c1d
ms.sourcegitcommit: b3c2b34d5f006ee3b41d6668f16fe7dcad1b4317
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2018
ms.locfileid: "51688723"
---
# <a name="compare-ef-core--ef6"></a>Сравнение EF Core и EF6

Entity Framework является средством объектно-реляционного сопоставления (O/RM) для .NET. В этой статье сравниваются две версии: Entity Framework 6 и Entity Framework Core.

## <a name="entity-framework-6"></a>Entity Framework 6

Entity Framework 6 (EF6) — это проверенная технология доступа к данным. Впервые этот продукт был выпущен в 2008 году в составе пакета обновления 1 (SP1) для платформы .NET Framework 3.5 и пакета обновления 1 (SP1) для Visual Studio 2008. Начиная с версии 4.1 он поставлялся в виде пакета NuGet [EntityFramework](https://www.nuget.org/packages/EntityFramework/). EF6 работает на основе .NET Framework 4.x, то есть запускается только в Windows. 

EF6 все еще поддерживается, и для него будут выходить исправления ошибок и небольшие улучшения.

## <a name="entity-framework-core"></a>Entity Framework Core

Entity Framework Core (EF Core) является совершенно новым вариантом EF6, который был выпущен в 2016 г. Он поставляется в пакетах Nuget, главный из них — [Microsoft.EntityFrameworkCore](https://www.nuget.org/packages/Microsoft.EntityFrameworkCore/). EF Core — это кроссплатформенный продукт, который можно запускать на .NET Core или .NET Framework.

EF Core был разработан как аналог EF6. Большая часть API верхнего уровня сохранена, поэтому EF Core покажется знакомым тем разработчикам, которые использовали EF6.

## <a name="feature-comparison"></a>Сравнение функций

EF Core предлагает новые функции, которые не будут реализованы в EF6 (например, [альтернативные ключи](xref:core/modeling/alternate-keys), [пакетные обновления](xref:core/what-is-new/ef-core-1.0#relational-batching-of-statements) и [смешанные оценки клиентов и баз данных в запросах LINQ](xref:core/querying/client-eval). Но поскольку это новая база кода, там отсутствуют некоторые функции EF6.

В следующей таблице представлено сравнение возможностей, доступных в EF Core и EF6. Это общее сравнение, здесь не указаны все функции и не объясняются различия между одной и той же возможностью в разных версиях EF.

Столбец EF Core содержит версию продукта, в которой эта возможность появилась впервые.

### <a name="creating-a-model"></a>Создание модели

| **Возможность**                                           | **EF 6** | **EF Core**                           |
|:------------------------------------------------------|:---------|:--------------------------------------|
| Сопоставление базовых классов                                   | Да      | 1.0                                   |
| Конструкторы с параметрами                          |          | 2.1                                   |
| Преобразования значений свойств                            |          | 2.1                                   |
| Сопоставленные типы без ключей (типы запросов)               |          | 2.1                                   |
| Соглашения                                           | Да      | 1.0                                   |
| Соглашения об именовании                                    | Да      | 1.0 (частично)                         |
| Заметки к данным                                      | Да      | 1.0                                   |
| Текучий API                                            | Да      | 1.0                                   |
| Наследование: одна таблица на иерархию (TPH)                | Да      | 1.0                                   |
| Наследование: одна таблица на тип (TPT)                     | Да      |                                       |
| Наследование: одна таблица на конкретный класс (TPC)           | Да      |                                       |
| Теневые свойства состояния                               |          | 1.0                                   |
| Альтернативные ключи                                        |          | 1.0                                   |
| Многие ко многим без сущности соединения                      | Да      |                                       |
| Создание ключей в базе данных                              | Да      | 1.0                                   |
| Создание ключей на стороне клиента                                |          | 1.0                                   |
| Сложные и принадлежащие типы                                   | Да      | 2.0                                   |
| Пространственные данные                                          | Да      | 2.2                                   |
| Графическое представление модели                      | Да      |                                       |
| Графический редактор моделей                                | Да      |                                       |
| Формат модели: код                                    | Да      | 1.0                                   |
| Формат модели: EDMX (XML)                              | Да      |                                       |
| Создание модели из базы данных с помощью командной строки              | Да      | 1.0                                   |
| Создание модели из базы данных с помощью мастера VS                 | Да      |                                       |
| Обновление модели из базы данных                            | Partial  |                                       |
| Глобальные фильтры запросов                                  |          | 2.0                                   |
| Разбиение таблиц                                       | Да      | 2.0                                   |
| Разбиение сущностей                                      | Да      |                                       |
| Сопоставление скалярных функций базы данных                      | Плохо     | 2.0                                   |
| Сопоставление полей                                         |          | 1.1                                   |

### <a name="querying-data"></a>Запросы к данным

| **Возможность**                                           | **EF6**  | **EF Core**                           |
|:------------------------------------------------------|:---------|:--------------------------------------|
| Запросы LINQ                                          | Да      | 1.0 (ожидается для сложных запросов) |
| Создание удобного для чтения кода SQL                                | Плохо     | 1.0                                   |
| Смешанное вычисление на клиенте и сервере                        |          | 1.0                                   |
| Преобразование оператора GroupBy                                   | Да      | 2.1                                   |
| Загрузка связанных данных: безотложная                           | Да      | 1.0                                   |
| Загрузка связанных данных: безотложная загрузка для производных типов |          | 2.1                                   |
| Загрузка связанных данных: отложенная                            | Да      | 2.1                                   |
| Загрузка связанных данных: явная                        | Да      | 1.1                                   |
| Необработанные SQL-запросы: типы сущностей                         | Да      | 1.0                                   |
| Необработанные SQL-запросы: отличные от сущностей типы (например, типы запросов)       | Да      | 2.1                                   |
| Необработанные запросы SQL: создание с помощью LINQ                  |          | 1.0                                   |
| Явным образом скомпилированные запросы                           | Плохо     | 2.0                                   |
| Язык текстовых запросов (Entity SQL)                | Да      |                                       |

### <a name="saving-data"></a>Сохранение данных

| **Возможность**                                           | **EF6**  | **EF Core**                           |
|:------------------------------------------------------|:---------|:--------------------------------------|
| Отслеживание изменений по моментальному снимку                             | Да      | 1.0                                   |
| Отслеживание изменений по извещениям                         | Да      | 1.0                                   |
| Отслеживание изменений: прокси-серверы                              | Да      |                                       |
| Доступ к отслеживаемому состоянию                               | Да      | 1.0                                   |
| Оптимистическая блокировка                                | Да      | 1.0                                   |
| Транзакции                                          | Да      | 1.0                                   |
| Пакетная обработка инструкций                                |          | 1.0                                   |
| Сопоставление хранимых процедур                              | Да      |                                       |
| Низкоуровневые API для несвязных графов                     | Плохо     | 1.0                                   |
| Полный проход несвязных графов                         |          | 1.0 (частично)                         |

### <a name="other-features"></a>Другие возможности

| **Возможность**                                           | **EF6**  | **EF Core**                           |
|:------------------------------------------------------|:---------|:--------------------------------------|
| Миграции                                            | Да      | 1.0                                   |
| Интерфейсы API для создания и удаления баз данных                       | Да      | 1.0                                   |
| Начальное значение данных                                             | Да      | 2.1                                   |
| Устойчивость подключений                                 | Да      | 1.1                                   |
| Обработчики жизненного цикла (события, перехват)                | Да      |                                       |
| Простое ведение журналов (Database.Log)                         | Да      |                                       |
| Создание пулов DbContext                                     |          | 2.0                                   |

### <a name="database-providers"></a>Поставщики баз данных

| **Возможность**                                           | **EF6**  | **EF Core**                           |
|:------------------------------------------------------|:---------|:--------------------------------------|
| SQL Server                                            | Да      | 1.0                                   |
| MySQL                                                 | Да      | 1.0                                   |
| PostgreSQL                                            | Да      | 1.0                                   |
| Oracle                                                | Да      | 1.0 <sup>(1)</sup>                    |
| SQLite                                                | Да      | 1.0                                   |
| SQL Server Compact                                    | Да      | 1.0 <sup>(2)</sup>                    |
| DB2                                                   | Да      | 1.0                                   |
| Firebird                                              | Да      | 2.0                                   |
| Jet (Microsoft Access)                                |          | 2.0 <sup>(2)</sup>                    |
| В памяти (для тестирования)                               |          | 1.0                                   |

<sup>1</sup> На данный момент доступен платный поставщик для Oracle. Идет разработка бесплатного официального поставщика для Oracle.

<sup>2</sup> Поставщики SQL Server Compact и Jet работают только в .NET Framework (но не в .NET Core).

### <a name="net-implementations"></a>Реализации .NET

| **Возможность**                                           | **EF6**  | **EF Core**                           |
|:------------------------------------------------------|:---------|:--------------------------------------|
| .NET framework (консоль, WinForms, WPF, ASP.NET)      | Да      | 1.0                                   |
| .NET Core (консоль, ASP.NET Core)                     |          | 1.0                                   |
| Mono и Xamarin                                        |          | 1.0 (ожидается)                     |
| UWP                                                   |          | 1.0 (ожидается)                     |

## <a name="guidance-for-new-applications"></a>Рекомендации для новых приложений

Используйте EF Core в новом приложении, если выполнены оба условия:
* Приложению нужны возможности .NET Core. Дополнительные сведения см. в статье [Выбор между .NET Core и .NET Framework для серверных приложений](https://docs.microsoft.com/dotnet/standard/choosing-core-framework-server).
* EF Core поддерживает все функции, которые требуются приложению. Если нужная функция отсутствует, ознакомьтесь со [стратегией развития EF Core](xref:core/what-is-new/roadmap), чтобы узнать, будет ли эта функция поддерживаться в будущем. 

Используйте EF6, если выполнены оба условия:
* Приложение будет работать на Windows и .NET Framework 4.0 или более поздней версии.
* EF6 поддерживает все функции, которые требуются приложению.

## <a name="guidance-for-existing-ef6-applications"></a>Рекомендации для существующих приложений EF6

Из-за фундаментальных отличий от EF Core мы не рекомендуем переносить приложения EF6 на EF Core, если для этого нет веской причины. Если вы хотите перенести приложение на EF Core, чтобы использовать новые возможности, заранее ознакомьтесь со всеми существующими ограничениями. Дополнительные сведения см. в разделе [Перенос приложений из EF6 в EF](porting/index.md). **Переход с EF6 на EF Core — это скорее перенос, чем обновление.** 

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения см. в документации:
* <xref:core/index>
* <xref:ef6/index>
